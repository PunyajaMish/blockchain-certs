(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t,a){e.exports=a(564)},251:function(e,t,a){},264:function(e,t){},266:function(e,t){},393:function(e,t){},400:function(e,t){},402:function(e,t){},433:function(e,t){},539:function(e,t,a){},540:function(e,t,a){},560:function(e,t,a){},564:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(134),i=a.n(c),o=(a(251),a(35)),l=a.n(o),s=a(240),m=a(20),u=a(21),p=a(24),d=a(22),h=a(23),f=a(60),b=a(49),y=a(136),g=a.n(y),v=new g.a(g.a.givenProvider||"http://localhost:8545"),E=(a(539),a(568)),x=a(567),k=(a(540),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"bar",bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(E.a.Brand,{mb:0,href:"#home"},"DigitalBlock"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(x.a,{className:"mr-auto"},r.a.createElement(x.a.Item,{className:"mt-2 mr-2 "},r.a.createElement(f.b,{to:"/"},"Home")),r.a.createElement(x.a.Link,{href:"#home"},"Register"),r.a.createElement(x.a.Link,{href:"#link"},"How it works?"),r.a.createElement(x.a.Item,{className:"mt-2 ml-2 mr-3"},r.a.createElement(f.b,{to:"/verify"},"Verify")),r.a.createElement(x.a.Item,{className:"mt-2 mr-3"},r.a.createElement(f.b,{to:"/view"},"View Certificate")))))}}]),t}(n.Component)),w=a(94),C=a(566),j=a(565),O=a(95),N=a.n(O),S=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.addcertificate=function(e){e.preventDefault(),a.props.addcertificate(a.state)},a.state={fname:"",lname:"",course:"",email:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"canBeSubmitted",value:function(){var e=this.state,t=e.fname,a=e.lname,n=e.course,r=e.email;return t.length>0&&a.length>0&&n.length>0&&r.length>0}},{key:"render",value:function(){var e=this.canBeSubmitted();return r.a.createElement("div",{className:"container-fluid ",style:{height:"100%",background:"url(".concat(N.a,") no-repeat "),backgroundSize:"cover"}},r.a.createElement("h1",{style:{fontFamily:"Montserrat",fontWeight:"bold",fontSize:"60px",color:"#66ffe7"},className:"mb-5 pt-3"},"Create certificates on Blockchain"),r.a.createElement("div",{style:{marginBottom:"117px",background:"rgba(255,255,255,0.5)"},className:"w-50 container pt-3 pb-3 mx-auto"},r.a.createElement("h2",{style:{fontWeight:"bold",fontFamily:"Montserrat"},className:"mb-2"},"Enter the Certificate details"),r.a.createElement(C.a,{onSubmit:this.addcertificate},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"text",name:"fname",value:this.state.fname,onChange:this.handleChange,placeholder:"First name"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"text",name:"lname",value:this.state.lname,onChange:this.handleChange,placeholder:"Last name"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email@email.com"})),r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"text",name:"course",value:this.state.course,onChange:this.handleChange,placeholder:"Course name"})),r.a.createElement(j.a,{disabled:!e,className:"mt-3",variant:"primary",type:"submit"},"Add certificate"))))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",sender:"",course:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container ",style:{fontFamily:"Montserrat",background:"#5dcbef",fontWeight:"bold",border:"4px solid black",fontSize:"20px",marginTop:"10px"}},r.a.createElement("div",{style:{borderBottom:" 1px solid black"}},r.a.createElement("h4",null,"Certificate with following details found")),r.a.createElement("div",null,"Name:",r.a.createElement("span",{style:{marginLeft:"10px",borderBottom:" 2px solid black"}},this.props.details[0])),r.a.createElement("div",null,"Course:",r.a.createElement("span",{style:{marginLeft:"10px",borderBottom:" 2px solid black"}},this.props.details[1])),r.a.createElement("div",null,"Issued by:",r.a.createElement("span",{style:{marginLeft:"10px",borderBottom:" 2px solid black"}},this.props.details[3])),r.a.createElement("div",{style:{marginLeft:"10px",marginBottom:"10px"}},"email:",r.a.createElement("span",{style:{borderBottom:" 2px solid black"}}," "+this.props.details[2])))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.getcertificate=function(e){e.preventDefault(),a.props.getcertificate(a.state)},a.gettransaction=function(e){e.preventDefault();var t="https://ropsten.etherscan.io/tx/"+a.state.txh;window.open(t),console.log(t)},a.state={id:"",txh:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"canBeSubmittedid",value:function(){return this.state.id.length>0}},{key:"canBeSubmittedtxh",value:function(){return this.state.txh.length>0}},{key:"render",value:function(){var e=this.canBeSubmittedid(),t=this.canBeSubmittedtxh();return r.a.createElement("div",{style:{background:"url(".concat(N.a,") no-repeat "),backgroundSize:"cover",border:"1px solid black",height:"100%",width:"100%"},className:"container-fluid "},r.a.createElement("div",{className:" mx-auto w-50"},r.a.createElement("h1",{style:{color:"white",fontFamily:"Montserrat",fontWeight:"bold"},className:" mt-3 mb-4"},"Verify the Certificate"),r.a.createElement(C.a,{className:"px-3 pt-4",onSubmit:this.getcertificate,style:{background:"rgba(255,255,255,0.5)"}},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"text",name:"id",value:this.state.id,onChange:this.handleChange,placeholder:"Enter Certificate ID"})),r.a.createElement(j.a,{disabled:!e,className:"mt-2 mb-3",variant:"primary",type:"submit"},"Get certificate")),this.props.yes?r.a.createElement(B,{details:this.props.details}):null,r.a.createElement("hr",{className:"mt-5 ",style:{color:"red",backgroundColor:"red",height:5}})),r.a.createElement("div",{className:" mx-auto w-50 mb-5"},r.a.createElement("h1",{style:{color:"white",fontFamily:"Montserrat",fontWeight:"bold"},className:"mt-5 mb-4"},"Verify the Transaction details"),r.a.createElement(C.a,{className:"px-3 pt-4",onSubmit:this.gettransaction,style:{marginBottom:"57px",background:"rgba(255,255,255,0.5)"}},r.a.createElement(C.a.Group,null,r.a.createElement(C.a.Control,{type:"text",name:"txh",value:this.state.txh,onChange:this.handleChange,placeholder:"Enter Transaction hash provided on Certificate"})),r.a.createElement(j.a,{disabled:!t,className:"mt-2 mb-3",variant:"primary",type:"submit"},"Verify"))))}}]),t}(n.Component),A=new v.eth.Contract([{constant:!1,inputs:[{name:"name",type:"string"},{name:"course",type:"string"},{name:"email",type:"string"}],name:"addcert",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"coladd",type:"address"},{name:"name",type:"string"}],name:"addCollege",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"uint256"}],name:"added",type:"event"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"certs",outputs:[{name:"name",type:"string"},{name:"course",type:"string"},{name:"email",type:"string"},{name:"sender",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"col",type:"address"}],name:"checkcoll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"id",type:"uint256"}],name:"getcert",outputs:[{name:"",type:"string"},{name:"",type:"string"},{name:"",type:"string"},{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getid",outputs:[{name:"id",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],"0x598a458f6baf4a7bc6c09007efa9902e393fce77"),D=(a(560),a(561),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.onclickprint=function(e){e.preventDefault(),window.print()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"w-100 pc "},r.a.createElement("div",{id:"printcertificate",className:"w-75 cert"},r.a.createElement("div",{id:"fname"},r.a.createElement("span",null,this.props.sname)),r.a.createElement("div",{id:"course"},r.a.createElement("style",null,"@media print {#course{color:red;}}"),r.a.createElement("span",null,this.props.course," ")),r.a.createElement("div",{id:"txh"},r.a.createElement("span",null,this.props.txh)),r.a.createElement("div",{id:"id"},r.a.createElement("span",null,this.props.id))),r.a.createElement(j.a,{className:"btn",onClick:this.onclickprint,variant:"success",type:"submit"},"Print"))}}]),t}(n.Component)),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={account:"",name:"",course:"",txh:"",id:"",output:[],tofound:!1},a.add=function(e){var t=e.fname+" "+e.lname;A.methods.addcert(t,e.course,e.email).send({from:a.state.account,gas:5e5},function(t,n){t?console.log("error "+t):(a.setState({name:e.fname+" "+e.lname}),a.setState({course:e.course+" course"}),a.setState({txh:n}),console.log(n),A.methods.getid().call({from:a.state.account},function(e,t){a.setState({id:t}),e?console.log(e):console.log(t)}))})},a.get=function(e){A.methods.getcert(e.id).call({from:a.state.account},function(e,t){if(e)alert("Certificate not found");else{console.log(t);var n=Object.values(t);a.setState({output:n}),a.setState({tofound:!0}),console.log(a.state.output)}})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadBlockchainData()}},{key:"loadBlockchainData",value:function(){var e=Object(s.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.eth.getAccounts();case 2:t=e.sent,v.eth.defaultAccount=t[0],console.log("acc",t[0]),this.setState({account:t[0]});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(k,null),r.a.createElement(b.a,{path:"/",exact:!0,render:function(){return r.a.createElement(S,{addcertificate:e.add})}}),r.a.createElement(b.a,{path:"/verify",render:function(){return r.a.createElement(M,{getcertificate:e.get,yes:e.state.tofound,details:e.state.output})}}),r.a.createElement(b.a,{path:"/view",component:function(){return r.a.createElement(D,{sname:e.state.name,course:e.state.course,txh:e.state.txh,id:e.state.id})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(562);i.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,t,a){e.exports=a.p+"static/media/b3.dc846958.jpg"}},[[246,1,2]]]);
//# sourceMappingURL=main.c54a09b9.chunk.js.map